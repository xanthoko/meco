Model:
    declarations+=Declaration
;

Declaration:
    Rule | Device | Metric | State
;

Rule:
    'rule' name=STRING
        'when' metric=[Metric] operator=STRING compare=FLOAT
        'then set' device=[Device] state=[State]
;

Device:
    'device' name=ID '{'
        'states' states=[State] ',' (states=[State])*
        ('default' state=[State])*
    '}'
;

State:
    'state' name=ID
;

Metric:
    'metric' name=ID
;
