import messages.idl;
import brokers.br;

Broker: R4ABroker
Broker: MyRabbit

InNode Take{
    ports:
        - subscriber:
            topic: collected.data
    broker: R4ABroker
}

OutNode Give{
    ports:
        - publisher:
            topic: new.data
            message: ThermoSensorMsg
    broker: R4ABroker
}

Proxy testProxy{
    inport: 
        - subscriber:
            topic: new.data
    outport:
        - publisher:
            topic: collected.data
    url: "http://localhost:8001"
    method: GET
    broker: R4ABroker
}